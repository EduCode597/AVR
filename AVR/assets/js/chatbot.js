// Copied and embedded from existing chatbot with paths adjusted to /avr assets
// The content below is identical to your project version except image paths are relative to /avr
// Chatbot script copied from the original project with small tweaks:
// - Use /avr/assets/images/logo.png
// - Query pending orders count from /avr/orders.php?count=pending
// Everything else is preserved.
(function(){
  // Copied from original but with paths/endpoints adjusted and payment text set to COD-only
  var KEY = 'assistant_lang';
  var FLAG = 'assistant_lang_user_set';
  function getLang(){ try { return localStorage.getItem(KEY) || 'en'; } catch(e){ return 'en'; } }
  function applyToAssistant(lang){ try { if (window.OrderAssistant) { if (typeof window.OrderAssistant.setLanguage==='function'){ window.OrderAssistant.setLanguage(lang); } else if('language' in window.OrderAssistant){ window.OrderAssistant.language = lang; } } } catch(e){} }
  function setLang(lang){ if(!lang||typeof lang!=='string') return; try{ localStorage.setItem(KEY,lang); localStorage.setItem(FLAG,'1'); }catch(e){} applyToAssistant(lang); }
  try{ var stored=getLang(); var userSet=(localStorage.getItem(FLAG)==='1'); if(!userSet && stored!=='en'){ localStorage.setItem(KEY,'en'); } }catch(e){}
  window.setOrderAssistantLanguage = setLang;
  window.addEventListener('order-assistant:set-language', function(e){ var lang=(e&&e.detail&&e.detail.lang)||'en'; setLang(lang); });
  (function wait(){ var t=0,m=60; var id=setInterval(function(){ t++; if(window.OrderAssistant){ applyToAssistant(getLang()); clearInterval(id);} else if(t>=m){ clearInterval(id);} },500); })();
  try{ document.addEventListener('DOMContentLoaded', function(){ applyToAssistant(getLang()); }); }catch(e){}
  try{ window.addEventListener('load', function(){ applyToAssistant(getLang()); }); }catch(e){}
})();

(function(){
  var els={}; var state={lang:'en', manualLang:null};
  // Resolve URLs relative to dynamic BASE_URL (set in header.php)
  var BASE=(window.BASE_URL||'').replace(/\/+$/,'');
  function url(p){ return BASE + p; }
  function ensureUI(){ if(document.getElementById('order-assistant-container')) return; var html=''
    +'<div class="chatbot-window" id="order-assistant-window">'
    +'  <div class="chatbot-header">'
    +'    <div class="chatbot-head-left">'
    +'      <img src="'+ url('/assets/images/logo.png') +'" alt="Bot" class="chatbot-avatar" width="28" height="28">'
    +'      <div class="chatbot-title-wrap">'
    +'        <div class="chatbot-title">Order Assistant</div>'
    +'        <div class="chatbot-status"><span class="presence-dot"></span><span id="order-assistant-status">Online</span></div>'
    +'      </div>'
    +'    </div>'
    +'    <div class="chatbot-head-right">'
    +'      <button class="chatbot-lang" id="order-assistant-lang" title="Language">Lang ▾</button>'
    +'      <div class="chatbot-lang-menu" id="order-assistant-lang-menu" style="display:none">'
    +'        <div class="chatbot-lang-item" data-lang="en">English</div>'
    +'        <div class="chatbot-lang-item" data-lang="tl">Tagalog (Philippines)</div>'
    +'        <div class="chatbot-lang-item" data-lang="zh-CN">简体中文 (China)</div>'
    +'        <div class="chatbot-lang-item" data-lang="zh-TW">繁體中文 (Taiwan)</div>'
    +'        <div class="chatbot-lang-item" data-lang="ko">한국어 (Korea)</div>'
    +'        <div class="chatbot-lang-item" data-lang="id">Bahasa Indonesia</div>'
    +'        <div class="chatbot-lang-item" data-lang="ms">Bahasa Melayu (Malaysia)</div>'
    +'        <div class="chatbot-lang-item" data-lang="th">ไทย (Thailand)</div>'
    +'        <div class="chatbot-lang-item" data-lang="vi">Tiếng Việt (Vietnam)</div>'
    +'        <div class="chatbot-lang-item" data-lang="pt-BR">Português (Brasil)</div>'
    +'        <div class="chatbot-lang-item" data-lang="es-MX">Español (México)</div>'
    +'        <div class="chatbot-lang-item" data-lang="es-CO">Español (Colombia)</div>'
    +'        <div class="chatbot-lang-item" data-lang="es-CL">Español (Chile)</div>'
    +'        <div class="chatbot-lang-item" data-lang="en-SG">English (Singapore)</div>'
    +'      </div>'
    +'      <button class="chatbot-close" id="order-assistant-close" aria-label="Close">×</button>'
    +'    </div>'
    +'  </div>'
    +'  <div class="chatbot-body">'
    +'    <div class="chatbot-messages" id="order-assistant-messages"></div>'
    +'    <div class="chatbot-input-wrap">'
    +'      <input type="text" id="order-assistant-input" class="chatbot-input" placeholder="Type your message..." />'
    +'      <button id="order-assistant-send" class="chatbot-send">Send</button>'
    +'    </div>'
    +'  </div>'
    +'</div>'
    +(document.getElementById('order-assistant-toggle')?'':'<button class="chatbot-toggle" id="order-assistant-toggle">Order Assistant</button>');
    var wrap=document.createElement('div'); wrap.id='order-assistant-container'; wrap.className='chatbot-container'; wrap.innerHTML=html; document.body.appendChild(wrap);
  els.root=wrap; els.win=document.getElementById('order-assistant-window'); els.toggle=document.getElementById('order-assistant-toggle'); els.msgs=document.getElementById('order-assistant-messages'); els.input=document.getElementById('order-assistant-input'); els.send=document.getElementById('order-assistant-send'); els.status=document.getElementById('order-assistant-status'); els.langBtn=document.getElementById('order-assistant-lang'); els.langMenu=document.getElementById('order-assistant-lang-menu'); document.getElementById('order-assistant-close').onclick=function(){ els.win.style.display='none'; /* remove floating button after first close so only header button (if any) remains */ if(els.toggle&&els.toggle.parentNode){ els.toggle.parentNode.removeChild(els.toggle); els.toggle=null; } };
    if(els.toggle) els.toggle.onclick=function(){ els.win.style.display='block'; greet(); els.input.focus(); };
    els.send.onclick=onSend; els.input.addEventListener('keydown', function(e){ if(e.key==='Enter') onSend(); });
    if(els.langBtn){ els.langBtn.onclick=function(e){ e.stopPropagation(); toggleLangMenu(true); }; document.addEventListener('click', function(){ toggleLangMenu(false); }); }
    if(els.langMenu){ els.langMenu.querySelectorAll('.chatbot-lang-item').forEach(function(it){ it.addEventListener('click', function(){ setLang(it.getAttribute('data-lang'), true); toggleLangMenu(false); greet(); }); }); }
    var stored=null; try{ stored=localStorage.getItem('oa_lang'); }catch(e){}
    var initialLang=stored||(navigator.language||'en'); setLang(initialLang);
  }
  function appendMessage(text, role){ var msg=document.createElement('div'); msg.className='msg '+role; var avatar=document.createElement('div'); avatar.className='avatar-wrap'; if(role==='bot'){ var img=document.createElement('img'); img.src=url('/assets/images/logo.png'); img.alt='Bot'; img.className='avatar'; img.width=28; img.height=28; avatar.appendChild(img);} else { var u=document.createElement('div'); u.className='avatar user'; u.textContent='You'; avatar.appendChild(u);} var bubble=document.createElement('div'); bubble.className='bubble'; bubble.textContent=text; if(role==='user'){ msg.appendChild(bubble); msg.appendChild(avatar);} else { msg.appendChild(avatar); msg.appendChild(bubble);} els.msgs.appendChild(msg); els.msgs.scrollTop=els.msgs.scrollHeight; }
  function clean(text){ var s=(text||'').toLowerCase().trim(); var noise=[/^how to\s+/i,/^how do i\s+/i,/^how do you\s+/i,/^how can i\s+/i,/^i want to\s+/i,/^i would like to\s+/i,/^i need to\s+/i,/^what is\s+/i,/^what's\s+/i,/^what\s+/i,/^please\s+/i,/^can you\s+/i,/^could you\s+/i,/^would you\s+/i,/^tell me\s+/i]; noise.forEach(function(rx){ s=s.replace(rx,''); }); return s; }
  function intentFor(text){ var t=clean(text); if(/\border\b|buy|purchase|place\s*order|order now/.test(t)) return 'order'; if(/\bprice\b|\bcost\b|quotation|quote/.test(t)) return 'price'; if(/payment|pay|gcash|cod|cash on delivery|bank transfer|card/.test(t)) return 'payment'; if(/((shipping|delivery)\s*(fee|fees|cost|costs|charge|charges|price|pricing))|how\s*much\s*(is\s*)?(shipping|delivery)|freight|cargo\s*fee|courier\s*(fee|charge|charges)|magkano.*(shipping|delivery|padala)/.test(t)) return 'shipping_fee'; if(/\bship\b|shipping|delivery|deliver|courier|lead time|tracking|track/.test(t)) return 'shipping'; if(/status|where.*order|when.*arrive|eta|pending|processing|shipped/.test(t)) return 'order_status'; if(/\bstock\b|available|availability|in stock|out of stock|restock/.test(t)) return 'stock'; if(/discount|bulk|wholesale|price break|promo|sale|offer/.test(t)) return 'discount'; if(/warranty|guarantee|return|refund|exchange|replacement|defect|broken|damaged/.test(t)) return 'warranty'; if(/install|installation|setup|service|maintenance|repair|technician/.test(t)) return 'installation'; if(/\bspecs?\b|specification|size|dimension|weight|capacity|voltage|phase|mm|cm|inch|kg/.test(t)) return 'specs'; if(/invoice|receipt|billing|payment confirmation|paid|payment received|reference/.test(t)) return 'invoice'; if(/account|login|signin|sign in|register|signup|password|forgot password|reset password/.test(t)) return 'account'; if(/cart|checkout|check out|add to cart|remove from cart/.test(t)) return 'cart'; if(/cancel( order)?|change my mind|wrong item/.test(t)) return 'cancel'; if(/change( address| order| item)|edit order|modify order|update address|add item|remove item/.test(t)) return 'change_order'; if(/\b(deliver to|ship to|coverage|areas|province|international)\b/.test(t)) return 'coverage'; if(/language|translate|tagalog|filipino|chinese|korean|thai|vietnam|spanish|portuguese|bahasa|malay|singapore/i.test(text)) return 'language'; if(/pickup|pick up|collect|store pickup/.test(t)) return 'pickup'; if(/website|site|page|not loading|error|bug|crash|cannot|can't|won't|issue/.test(t)) return 'technical'; if(/contact|support|help|phone|email|office|address|call us|message us/.test(t)) return 'contact'; if(/hours|open|close|business hours|working hours|location|where are you|visit us/.test(t)) return 'hours'; if(/photo|image|picture|gallery|thumbnail|no image/.test(t)) return 'photo'; if(/privacy|secure|security|data|personal|gdpr|policy/.test(t)) return 'privacy'; if(/manager|owner|admin|sales|escalate|complaint/.test(t)) return 'manager'; return 'fallback'; }
  var L={greeting:{'en':'Hi, welcome. How can I help?','en-SG':'Hi there! How can I help?','tl':'Hi! Maligayang pagdating. Paano kita matutulungan?','zh-CN':'你好，欢迎光临。我能帮你什么吗？','zh-TW':'你好，歡迎光臨。我可以為你做什麼？','ko':'안녕하세요. 무엇을 도와드릴까요?','id':'Halo! Ada yang bisa saya bantu?','ms':'Hai! Bagaimana saya boleh bantu?','th':'สวัสดีค่ะ/ครับ ยินดีต้อนรับ ต้องการความช่วยเหลือเรื่องใดคะ/ครับ?','vi':'Xin chào! Tôi có thể giúp gì cho bạn?','pt-BR':'Olá! Como posso ajudar?','es-MX':'¡Hola! ¿En qué puedo ayudarte?','es-CO':'¡Hola! ¿En qué te puedo ayudar?','es-CL':'¡Hola! ¿En qué puedo ayudarte?'},reading:{'en':'Reading…','en-SG':'Reading…','tl':'Binabasa…','zh-CN':'正在阅读…','zh-TW':'正在閱讀…','ko':'읽는 중…','id':'Membaca…','ms':'Membaca…','th':'กำลังอ่าน…','vi':'Đang đọc…','pt-BR':'Lendo…','es-MX':'Leyendo…','es-CO':'Leyendo…','es-CL':'Leyendo…'},typing:{'en':'Typing…','en-SG':'Typing…','tl':'Nagta-type…','zh-CN':'正在输入…','zh-TW':'正在輸入…','ko':'입력 중…','id':'Mengetik…','ms':'Menaip…','th':'กำลังพิมพ์…','vi':'Đang nhập…','pt-BR':'Digitando…','es-MX':'Escribiendo…','es-CO':'Escribiendo…','es-CL':'Escribiendo…'}};
  var REPLIES = {
    installation: { 'en':'Yes, installation is free with your purchase, and our team will assist you professionally.' },
    shipping_fee: { 'en': 'Shipping fee is fixed at ₱3,000. Orders with 5 or more pieces get FREE shipping.', 'en-SG': 'Shipping fee is fixed at ₱3,000. Orders with 5+ pieces get FREE shipping.', 'tl': 'Ang shipping fee ay fixed sa ₱3,000. Kapag 5 piraso pataas, FREE shipping.', 'zh-CN': '运费固定为 ₱3,000。购买满 5 件免运费。', 'zh-TW': '運費固定為 ₱3,000。滿 5 件免運費。', 'ko': '배송비는 ₱3,000으로 고정입니다. 5개 이상 주문 시 무료 배송.', 'id': 'Biaya pengiriman tetap ₱3.000. Pesanan 5+ pcs GRATIS ongkir.', 'ms': 'Yuran penghantaran adalah tetap sebanyak ₱3,000. Pesanan 5 unit ke atas PERCUMA penghantaran.', 'th': 'ค่าส่งคงที่ ₱3,000 ออเดอร์ 5 ชิ้นขึ้นไป ส่งฟรี', 'vi': 'Phí vận chuyển cố định ₱3,000. Đơn từ 5 món trở lên MIỄN PHÍ vận chuyển.', 'pt-BR': 'O frete é fixo em ₱3.000. Pedidos com 5+ unidades têm FRETE grátis.', 'es-MX': 'El envío es fijo: ₱3,000. Con 5 piezas o más, envío GRATIS.', 'es-CO': 'El envío es fijo: ₱3,000. Con 5 piezas o más, envío GRATIS.', 'es-CL': 'El envío es fijo: ₱3,000. Con 5 piezas o más, envío GRATIS.' },
    order_status: { 'en': 'Share your order number and I’ll check the status. You can also open “My Orders”.', 'tl': 'Ibigay ang order number at iche-check ko ang status. Maaari mo ring buksan ang “My Orders”.', 'zh-CN': '请提供订单号，我会查询状态。也可在“我的订单”查看。', 'zh-TW': '請提供訂單編號，我會查詢狀態。也可於「我的訂單」查看。', 'ko': '주문 번호를 알려주시면 상태를 확인해 드릴게요. “내 주문”에서도 확인할 수 있어요.', 'id': 'Berikan nomor pesanan agar saya cek status. Anda juga bisa buka “My Orders”.', 'ms': 'Beri nombor pesanan untuk saya semak status. Anda juga boleh buka “My Orders”.', 'th': 'บอกเลขออเดอร์แล้วฉันจะเช็คสถานะให้ หรือดูได้ที่ “My Orders”', 'vi': 'Gửi mã đơn, mình sẽ kiểm tra. Bạn cũng có thể mở “My Orders”.', 'pt-BR': 'Informe seu número de pedido e eu verifico o status. Você também pode abrir “Meus Pedidos”.', 'es-MX': 'Comparte tu número de pedido y reviso el estado. También puedes abrir “Mis pedidos”.', 'es-CO': 'Comparte tu número de pedido y reviso el estado. También puedes abrir “Mis pedidos”.', 'es-CL': 'Comparte tu número de pedido y reviso el estado. También puedes abrir “Mis pedidos”。', 'en-SG': 'Share your order number and I’ll check. You can also open “My Orders”.' },
    cancel: { 'en': 'To cancel, send your order number and reason. If it has shipped, we’ll help with a return instead.', 'tl': 'Para i-cancel, ibigay ang order number at dahilan. Kung naipadala na, tutulungan ka namin sa return.', 'zh-CN': '如需取消，请提供订单号和原因。若已发货，我们会协助走退货流程。', 'zh-TW': '要取消請提供訂單編號與原因。若已出貨，我們會協助退貨流程。', 'ko': '취소하려면 주문번호와 사유를 알려주세요. 이미 발송된 경우 반품을 도와드릴게요.', 'id': 'Untuk batal, kirim nomor pesanan dan alasan. Jika sudah terkirim, kami bantu proses retur.', 'ms': 'Untuk batal, beri nombor pesanan dan sebab. Jika sudah dihantar, kami bantu proses pemulangan.', 'th': 'ต้องการยกเลิก โปรดแจ้งเลขออเดอร์และสาเหตุ หากส่งแล้วจะช่วยเรื่องการคืนสินค้าแทน', 'vi': 'Muốn hủy, gửi mã đơn và lý do. Nếu đã gửi hàng, chúng tôi sẽ hỗ trợ hoàn trả.', 'pt-BR': 'Para cancelar, envie o número do pedido e o motivo. Se já foi enviado, ajudamos com a devolução.', 'es-MX': 'Para cancelar, envía tu número de pedido y motivo. Si ya se envió, ayudamos con devolución.', 'es-CO': 'Para cancelar, envía tu número de pedido y motivo. Si ya se envió, ayudamos con devolución.', 'es-CL': 'Para cancelar, envía tu número de pedido y motivo. Si ya se envió, ayudamos con devolución.', 'en-SG': 'To cancel, send your order number and reason. If shipped, we’ll help with a return.' },
    change_order: { 'en': 'Need to change address or items? Send your order number and the update. If not shipped yet, we’ll adjust it.', 'tl': 'Kailangang baguhin ang address o items? Ibigay ang order number at pagbabago. Kung di pa shipped, aayusin namin.', 'zh-CN': '要修改地址或商品？请提供订单号和修改内容。若尚未发货，我们会为你更改。', 'zh-TW': '要修改地址或商品？請提供訂單編號與修改內容。若尚未出貨，我們會為你更改。', 'ko': '주소나 상품 변경이 필요하신가요? 주문번호와 변경사항을 알려주세요. 아직 발송 전이면 수정해 드립니다.', 'id': 'Perlu ubah alamat atau barang? Kirim nomor pesanan dan perubahan. Jika belum terkirim, kami ubah.', 'ms': 'Perlu ubah alamat atau item? Beri nombor pesanan dan perubahan. Jika belum dihantar, kami ubah.', 'th': 'ต้องการแก้ที่อยู่หรือสินค้า? แจ้งเลขออเดอร์และรายละเอียด หากยังไม่ส่งจะปรับให้ได้', 'vi': 'Cần đổi địa chỉ hoặc sản phẩm? Gửi mã đơn và nội dung cần đổi. Chưa gửi sẽ chỉnh được.', 'pt-BR': 'Precisa mudar endereço ou itens? Envie o número do pedido e o ajuste. Se não enviou, alteramos.', 'es-MX': '¿Cambios de dirección o artículos? Envía número de pedido y detalles. Si không se envió, lo ajustamos.', 'es-CO': '¿Cambios de dirección o artículos? Envía número de pedido y detalles. Si no se envió, lo ajustamos.', 'es-CL': '¿Cambios de dirección o artículos? Envía número de pedido y detalles. Si no se envió, lo ajustamos.', 'en-SG': 'Need to change address or items? Send order number and details; if not shipped, we’ll adjust.' },
    coverage: { 'en': 'We ship nationwide. Fee depends on address and weight. Share your city/province for an estimate.', 'tl': 'Nagpapadala kami nationwide. Depende ang fee sa address at bigat. Ibigay ang lungsod/probinsya para sa estimate.', 'zh-CN': '全国范围内发货。费用取决于地址与重量。请提供城市/省份以估算运费。', 'zh-TW': '全台出貨。運費視地址與重量而定。請提供城市/縣市以估算。', 'ko': '전국 배송합니다. 배송비는 주소와 무게에 따라 다릅니다. 도시/지역을 알려주세요.', 'id': 'Kami kirim ke seluruh negeri. Ongkir tergantung alamat dan berat. Kirim kota/provinsi untuk perkiraan.', 'ms': 'Kami hantar seluruh negara. Caj bergantung alamat dan berat. Beri bandar/negeri untuk anggaran.', 'th': 'จัดส่งทั่วประเทศ ค่าจัดส่งขึ้นกับที่อยู่และน้ำหนัก แจ้งอำเภอ/จังหวัดเพื่อประเมิน', 'vi': 'Giao toàn quốc. Phí tùy địa chỉ và trọng lượng. Gửi thành phố/tỉnh để ước tính.', 'pt-BR': 'Enviamos para todo o país. Frete varia por endereço e peso. Informe cidade/estado para estimativa.', 'es-MX': 'Enviamos a todo el país. El envío depende de dirección y peso. Comparte ciudad/estado para estimar.', 'es-CO': 'Enviamos a todo el país. El envío depende de dirección y peso. Comparte ciudad/departamento.', 'es-CL': 'Enviamos a todo el país. El envío depende de dirección y peso. Comparte ciudad/región.', 'en-SG': 'We ship nationwide. Fee depends on address and weight. Share city/province for estimate.' },
    cart: { 'en': 'Use the Cart icon to review items, then click Checkout to place the order. You can edit quantity or remove items there.', 'tl': 'I-click ang Cart para tingnan ang items, at Checkout para umorder. Maaari mong baguhin ang dami o alisin ang items.', 'zh-CN': '点击购物车查看商品，按“Checkout”下单。可修改数量或移除商品。', 'zh-TW': '點擊購物車檢視商品，按「結帳」下單。可修改數量或移除商品。', 'ko': '카트에서 상품을 확인하고 결제(Checkout)를 눌러 주문하세요. 수량 변경/삭제도 가능합니다.', 'id': 'Buka Keranjang untuk meninjau barang, lalu klik Checkout. Anda bisa ubah jumlah atau hapus barang.', 'ms': 'Buka Troli untuk semak item, kemudian klik Checkout. Anda boleh ubah kuantiti atau buang item.', 'th': 'เข้าไปที่ตะกร้าเพื่อตรวจสอบ กด Checkout เพื่อสั่งซื้อ แก้จำนวนหรือลบสินค้าได้', 'vi': 'Vào Giỏ hàng để xem lại, nhấn Checkout để đặt. Có thể chỉnh số lượng hoặc xóa.', 'pt-BR': 'Abra o Carrinho para revisar, depois clique em Checkout. Pode alterar quantidades ou remover itens.', 'es-MX': 'Usa el Carrito para revisar y luego Checkout para ordenar. Puedes cambiar cantidades o quitar artículos.', 'es-CO': 'Usa el Carrito para revisar y luego Checkout para ordenar. Puedes cambiar cantidades o quitar artículos.', 'es-CL': 'Usa el Carrito para revisar y luego Checkout para ordenar. Puedes cambiar cantidades o quitar artículos.', 'en-SG': 'Use the Cart icon to review items, then click Checkout. You can change quantities or remove items.' },
    language: { 'en': 'Switch language via “Lang ▾” or just type in your language—I\'ll reply the same way.', 'tl': 'Puwede sa “Lang ▾” para magpalit ng wika, o mag-type sa iyong wika at ganoon din ako sasagot.', 'zh-CN': '可通过“Lang ▾”切换语言，或直接用你的语言输入—我会用同样语言回复。', 'zh-TW': '可透過「Lang ▾」切換語言，或直接用你的語言輸入—我也會用同語言回覆。', 'ko': '“Lang ▾”로 언어를 바꾸거나, 편한 언어로 입력해 주세요—같은 언어로 답할게요.', 'id': 'Ganti bahasa di “Lang ▾” atau ketik saja pakai bahasa Anda—saya balas dengan bahasa itu.', 'ms': 'Tukar bahasa melalui “Lang ▾” atau taip sahaja dalam bahasa anda—saya akan balas begitu juga.', 'th': 'สลับภาษาได้ที่ “Lang ▾” หรือพิมพ์ภาษาที่ต้องการ—ฉันจะตอบเป็นภาษาเดียวกัน', 'vi': 'Đổi ngôn ngữ ở “Lang ▾” hoặc cứ gõ ngôn ngữ bạn muốn—mình sẽ trả lời tương tự.', 'pt-BR': 'Altere o idioma em “Lang ▾” ou apenas escreva no seu idioma—responderei igual.', 'es-MX': 'Cambia idioma en “Lang ▾” o escribe en tu idioma—responderé igual.', 'es-CO': 'Cambia idioma en “Lang ▾” o escribe en tu idioma—responderé igual.', 'es-CL': 'Cambia idioma en “Lang ▾” o escribe en tu idioma—responderé igual.', 'en-SG': 'Switch language via “Lang ▾”, or just type in your language and I’ll reply the same.' },
    pickup: { 'en': 'Store pickup may be arranged for selected items. Share your city and product; we’ll confirm availability.', 'tl': 'Maaaring mag-store pickup sa piling items. Ibigay ang lungsod at produkto para ma-confirm.', 'zh-CN': '部分商品可到店自取。请提供城市与商品，我们会确认可用性。', 'zh-TW': '部分商品可門市自取。請提供城市與商品，我們會確認可用性。', 'ko': '일부 상품은 매장 픽업이 가능합니다. 도시와 상품을 알려주시면 확인해 드립니다.', 'id': 'Beberapa barang bisa ambil di toko. Beri kota dan produk; kami konfirmasi ketersediaan.', 'ms': 'Sesetengah item boleh ambil di kedai. Beri bandar dan produk; kami sahkan ketersediaan.', 'th': 'บางสินค้าไปรับเองที่ร้านได้ ระบุจังหวัดและสินค้าเพื่อยืนยัน', 'vi': 'Một số sản phẩm có thể nhận tại cửa hàng. Gửi thành phố và sản phẩm để xác nhận.', 'pt-BR': 'Alguns itens permitem retirada em loja. Informe sua cidade e o produto para confirmar.', 'es-MX': 'Algunos artículos permiten retiro en tienda. Comparte tu ciudad y producto para confirmar.', 'es-CO': 'Algunos artículos permiten retiro en tienda. Comparte tu ciudad y producto para confirmar.', 'es-CL': 'Algunos artículos permiten retiro en tienda. Comparte tu ciudad y producto para confirmar.', 'en-SG': 'Store pickup may be arranged for selected items. Share city and product to confirm.' },
    technical: { 'en': 'If the site isn’t working, try refresh and clear cache. Tell me the page and any error text so we can fix it.', 'tl': 'Kung may aberya sa site, subukan ang refresh at clear cache. Ibigay ang page at error para maayos namin.', 'zh-CN': '如果网站异常，尝试刷新并清理缓存。告诉我页面与错误提示，我们会处理。', 'zh-TW': '若網站異常，請嘗試重新整理並清除快取。告訴我頁面與錯誤訊息，我們會處理。', 'ko': '사이트에 문제가 있으면 새로고침/캐시 삭제를 시도해 보세요. 페이지와 오류 내용을 알려주세요.', 'id': 'Jika situs bermasalah, coba refresh dan hapus cache. Beri tahu halaman dan pesan error.', 'ms': 'Jika laman bermasalah, cuba segar semula dan kosongkan cache. Beri halaman dan mesej ralat.', 'th': 'หากเว็บมีปัญหา ลองรีเฟรชและล้างแคช แจ้งหน้าที่มีปัญหาและข้อความ error ด้วย', 'vi': 'Nếu web lỗi, hãy thử tải lại và xóa cache. Nói mình biết trang và thông báo lỗi.', 'pt-BR': 'Se o site falhar, tente atualizar e limpar cache. Diga a página y el error para corrigirmos.', 'es-MX': 'Si el sitio falla, intenta recargar y limpiar caché. Dinos la página y el error para arreglar.', 'es-CO': 'Si el sitio falla, intenta recargar y limpiar caché. Dinos la página y el error para arreglar.', 'es-CL': 'Si el sitio falla, intenta recargar y limpiar caché. Dinos la página y el error para arreglar.', 'en-SG': 'If the site isn’t working, try refresh and clear cache. Share page and error so we can help.' },
    order: { 'en': 'Open the product page and tap “Order Now”. Fill your details, choose payment, and submit.', 'tl': 'Buksan ang pahina ng produkto at i-tap ang “Order Now”. Ilagay ang detalye mo, piliin ang bayad, at isumite.', 'zh-CN': '打开商品页面，点击“立即下单”。填写信息，选择支付方式并提交。', 'zh-TW': '打開商品頁面，點擊「立即下單」。填寫資料，選擇付款方式並送出。', 'ko': '상품 페이지에서 “지금 주문”을 눌러 정보 입력 후 결제 방식을 선택해 주세요.', 'id': 'Buka halaman produk lalu klik “Pesan Sekarang”. Isi data, pilih metode bayar, dan kirim.', 'ms': 'Buka halaman produk dan klik “Order Now”. Isi maklumat, pilih kaedah bayaran, dan hantar.', 'th': 'เปิดหน้าสินค้าแล้วกด “สั่งซื้อเลย” กรอกข้อมูล เลือกวิธีชำระเงิน แล้วส่งคำสั่งซื้อ', 'vi': 'Mở trang sản phẩm và nhấn “Đặt hàng”. Điền thông tin, chọn phương thức thanh toán và gửi.', 'pt-BR': 'Abra a página do produto e toque em “Comprar agora”. Preencha seus dados, escolha o pagamento e envie.', 'es-MX': 'Abre la página del producto y toca “Ordenar ahora”. Completa tus datos, elige el pago y envía.', 'es-CO': 'Abre la página del producto y toca “Ordenar ahora”. Completa tus datos, elige el pago y envía.', 'es-CL': 'Abre la página del producto y toca “Ordenar ahora”。', 'en-SG': 'Open the product page and tap “Order Now”. Fill your details, choose payment, and submit.' },
    price: { 'en': 'Prices are on each product page. For a quote, send the product name, quantity, and delivery location.', 'tl': 'Makikita ang presyo sa bawat pahina. Para sa quote, ibigay ang produkto, dami, at lokasyon.', 'zh-CN': '价格在商品页可见。需要报价请提供产品名称、数量和收货地址。', 'zh-TW': '價格在商品頁面。若需報價，請提供品名、數量與收件地點。', 'ko': '가격은 상품 페이지에 있습니다. 견적은 상품명, 수량, 배송지를 알려주세요.', 'id': 'Harga tercantum di halaman produk. Untuk penawaran, kirim nama produk, jumlah, dan lokasi.', 'ms': 'Harga ada pada halaman produk. Untuk sebut harga, beri nama produk, kuantiti, dan lokasi.', 'th': 'ราคามีในแต่ละหน้าสินค้า หากต้องการใบเสนอราคา ระบุชื่อสินค้า จำนวน และที่อยู่จัดส่ง', 'vi': 'Giá có trên từng trang sản phẩm. Muốn báo giá, gửi tên sản phẩm, số lượng và địa chỉ giao.', 'pt-BR': 'Os preços estão na página do produto. Para orçamento, envie produto, quantidade e endereço.', 'es-MX': 'El precio está en cada página de producto. Para cotizar, envía producto, cantidad y entrega.', 'es-CO': 'El precio está en cada producto. Para cotizar, envía producto, cantidad y destino.', 'es-CL': 'El precio está en cada produto。', 'en-SG': 'Prices are on each product page. For a quote, send the product, quantity, and address.' },
    payment: { 'en': 'We accept COD at eligible addresses. Need an invoice? Just ask.', 'tl': 'Tumatanggap kami ng COD (kung available sa lugar mo). Kailangan ng invoice? Sabihin lang.', 'zh-CN': '我们支持货到付款（可用地区）。需要发票请告知。', 'zh-TW': '我們提供貨到付款（可用地區）。需要發票請告知。', 'ko': '가능한 지역에 한해 착불(COD)을 지원합니다. 세금계산서가 필요하시면 알려주세요.', 'id': 'Kami menerima COD untuk area tertentu. Perlu faktur? Beri tahu kami.', 'ms': 'Kami terima COD di alamat yang layak. Perlu invois? Beritahu kami.', 'th': 'เก็บเงินปลายทาง (เฉพาะพื้นที่ที่รองรับ) ต้องการใบกำกับภาษีแจ้งได้เลย', 'vi': 'Hỗ trợ COD (nếu hỗ trợ). Cần hóa đơn? Hãy nói nhé.', 'pt-BR': 'Aceitamos pagamento na entrega (em locais elegíveis). Precisa de nota? Avise.', 'es-MX': 'Aceptamos pago contra entrega (según zona). ¿Factura? Con gusto.', 'es-CO': 'Aceptamos contraentrega (según zona). ¿Factura? Con gusto.', 'es-CL': 'Aceptamos pago contra entrega (según zona). ¿Factura? Con gusto.', 'en-SG': 'We accept COD at eligible addresses. Need an invoice? Just ask.' },
    shipping: { 'en': 'Typical delivery: 2–3 business days (urban), 5–7 (provincial). Tracking is shared after dispatch.', 'tl': 'Karaniwang delivery: 2–3 araw (lungsod), 5–7 (probinsya). Ibinibigay ang tracking pagkatapos ma-dispatch.', 'zh-CN': '通常配送：城市 2–3 天，省内 5–7 天。发货后提供物流追踪。', 'zh-TW': '一般配送：都會區 2–3 天，外縣市 5–7 天。出貨後提供追蹤編號。', 'ko': '도시권 2–3영업일, 지방 5–7영업일 소요됩니다. 배송 후 추적 정보를 드립니다.', 'id': 'Pengiriman biasa: 2–3 hari kerja (kota), 5–7 (luar kota). Tracking dibagikan setelah kirim.', 'ms': 'Penghantaran biasa: 2–3 hari bekerja (bandar), 5–7 (luar bandar). Nombor tracking diberi selepas hantaran.', 'th': 'จัดส่งโดยทั่วไป: เมือง 2–3 วันทำการ, ต่างจังหวัด 5–7 วัน แจ้งเลขติดตามหลังส่ง', 'vi': 'Giao hàng: 2–3 ngày (nội thành), 5–7 (tỉnh). Cung cấp mã theo dõi sau khi gửi.', 'pt-BR': 'Entrega típica: 2–3 dias úteis (urbano), 5–7 (interior). Enviamos o rastreio após despacho.', 'es-MX': 'Entrega típica: 2–3 días hábiles (urbano), 5–7 (interior). Compartimos rastreo al enviar.', 'es-CO': 'Entrega típica: 2–3 días hábiles (urbano), 5–7 (otras zonas). Enviamos rastreo al despachar.', 'es-CL': 'Entrega típica: 2–3 días hábiles (urbano), 5–7 (regiones). Enviamos seguimiento al despachar.', 'en-SG': 'Delivery: 2–3 business days (urban), 5–7 (provincial). We share tracking after dispatch.' },
    stock: { 'en': 'Availability varies by product. Share the product and quantity to check stock and ETA.', 'tl': 'Iba-iba ang availability. Ibigay ang produkto at dami para macheck ang stock at ETA.', 'zh-CN': '库存因产品而异。请提供产品和数量以查询库存与到货时间。', 'zh-TW': '庫存依商品而異。請提供品名與數量以查詢庫存與到貨時間。', 'ko': '제품마다 재고가 다릅니다. 제품명과 수량을 알려주시면 재고와 입고 일정을 확인합니다.', 'id': 'Ketersediaan berbeda tiap produk. Kirim nama dan jumlah untuk cek stok & ETA.', 'ms': 'Ketersediaan berbeza ikut produk. Beri nama dan kuantiti untuk semak stok & ETA.', 'th': 'สต็อกแตกต่างตามสินค้า ระบุชื่อสินค้าและจำนวนเพื่อเช็คสต็อกและกำหนดส่ง', 'vi': 'Tồn kho tùy sản phẩm. Gửi tên và số lượng để kiểm tra tồn và thời gian về.', 'pt-BR': 'A disponibilidade varia. Envie produto e quantidade para checar estoque e previsão.', 'es-MX': 'La disponibilidad varía. Envía producto y cantidad para revisar stock y fecha estimada.', 'es-CO': 'La disponibilidad varía. Envía producto y cantidad para revisar stock y ETA.', 'es-CL': 'La disponibilidad varía. Envía producto y cantidad para revisar stock y ETA.', 'en-SG': 'Availability varies. Send product and quantity to check stock and ETA.' },
    discount: { 'en': 'Promo: Buy 4 pieces of any product and get 5% OFF. Buy 5+ pieces and get FREE shipping.', 'tl': 'Promo: Kapag 4 piraso ang binili, may 5% OFF. Kapag 5 piraso pataas, FREE shipping.', 'zh-CN': '优惠：任意商品买满4件享受5%折扣；满5件免运费。', 'zh-TW': '優惠：任一商品買滿4件享5%折扣；滿5件免運費。', 'ko': '프로모션: 어떤 상품이든 4개 구매 시 5% 할인, 5개 이상 구매 시 무료 배송.', 'id': 'Promo: Beli 4 pcs produk apa pun dapat diskon 5%. Beli 5 pcs atau lebih GRATIS ongkir.', 'ms': 'Promosi: Beli 4 unit apa-apa produk dapat diskaun 5%. Beli 5 unit atau lebih PERCUMA penghantaran.', 'th': 'โปรโมชัน: ซื้อ 4 ชิ้น ลด 5% ซื้อ 5 ชิ้นขึ้นไป ส่งฟรี', 'vi': 'Khuyến mãi: Mua 4 món được giảm 5%. Mua từ 5 món trở lên MIỄN PHÍ vận chuyển.', 'pt-BR': 'Promoção: Compre 4 unidades de qualquer produto e ganhe 5% de desconto. Com 5+ unidades, FRETE grátis.', 'es-MX': 'Promoción: Compra 4 piezas de cualquier producto y obtén 5% de descuento. Con 5 piezas o más, envío GRATIS.', 'es-CO': 'Promoción: Compra 4 piezas de cualquier producto y obtén 5% de descuento. Con 5 piezas o más, envío GRATIS.', 'es-CL': 'Promoción: Compra 4 piezas de cualquier producto y obtén 5% de descuento. Con 5 piezas o más, envío GRATIS.', 'en-SG': 'Promo: Buy 4 pieces of any product and get 5% OFF. Buy 5+ pieces and get FREE shipping.' },
    warranty: { 'en': 'Warranty covers manufacturing defects. Returns/exchanges follow the policy on the product page.', 'tl': 'Sakop ng warranty ang depektong gawa. Sundin ang return/exchange policy sa pahina ng produkto.', 'zh-CN': '保修仅涵蓋製造缺陷。退换根据商品页面政策。', 'zh-TW': '保固僅涵蓋製造瑕疵。退換貨依商品頁政策辦理。', 'ko': '제조 결함에 한해 보증됩니다. 교환/반품은 상품 페이지 정책을 따릅니다.', 'id': 'Garansi mencakup cacat pabrik. Retur/penukaran sesuai kebijakan di halaman produk.', 'ms': 'Waranti meliputi kecacatan kilang. Pulangan/pertukaran ikut polisi halaman produk.', 'th': 'รับประกันเฉพาะความบกพร่องจากการผลิต การคืน/เปลี่ยนเป็นไปตามนโยบายในหน้าสินค้า', 'vi': 'Bảo hành cho lỗi nhà sản xuất. Đổi trả theo chính sách trên trang sản phẩm.', 'pt-BR': 'A garantia cobre defeitos de fábrica. Trocas/devoluções seguem a política da página.', 'es-MX': 'La garantía cubre defectos de fábrica. Cambios/devoluciones según la política del producto.', 'es-CO': 'La garantía cubre defectos de fábrica. Cambios/devoluciones según política.', 'es-CL': 'La garantía cubre defeitos de fábrica. Cambios/devoluciones según política.', 'en-SG': 'Warranty covers manufacturing defects. Returns/exchanges follow the product page policy.' },
    specs: { 'en': 'Specs are listed on each product page. Tell me what detail you need.', 'tl': 'Makikita ang specs sa bawat pahina. Sabihin kung anong detalye ang kailangan mo.', 'zh-CN': '规格在商品页列出。如需特定信息，请告诉我。', 'zh-TW': '規格列於商品頁。如需特定資訊，請告訴我。', 'ko': '사양은 상품 페이지에 있습니다. 필요한 항목이 있으면 알려주세요.', 'id': 'Spesifikasi ada di halaman produk. Jika ada yang kurang jelas, beri tahu ya.', 'ms': 'Spesifikasi ada di halaman produk. Jika kurang jelas, beritahu saya.', 'th': 'สเปกระบุในหน้าสินค้า หากต้องการรายละเอียดเพิ่มเติมแจ้งได้เลย', 'vi': 'Thông số có trên trang sản phẩm. Cần chi tiết nào, nói mình biết nhé.', 'pt-BR': 'As especificações estão na página do produto. Diga o que precisa saber.', 'es-MX': 'Las especificaciones están en la página del producto. Dime qué detalle necesitas.', 'es-CO': 'Las especificaciones están en la página del producto. ¿Qué detalle necesitas?', 'es-CL': 'Las especificaciones están en la página del producto. ¿Qué detalle necesitas?', 'en-SG': 'Specs are listed on each product page. Tell me what detail you need.' },
    invoice: { 'en': 'Share your order number; we’ll verify and update your order.', 'tl': 'Ibigay ang order number; iva-verify namin at ia-update ang order mo.', 'zh-CN': '请提供订单号，我们会核对并更新订单状态。', 'zh-TW': '請提供訂單編號，我們會核對並更新訂單。', 'ko': '주문번호를 알려주시면 확인 후 주문을 업데이트하겠습니다.', 'id': 'Kirim nomor pesanan; kami akan verifikasi dan perbarui.', 'ms': 'Beri nombor pesanan; kami akan sahkan dan kemas kini.', 'th': 'แจ้งเลขออเดอร์ เราจะตรวจสอบและอัปเดตให้', 'vi': 'Gửi mã đơn; chúng tôi sẽ xác minh và cập nhật.', 'pt-BR': 'Envie o número do pedido; vamos verificar e atualizar.', 'es-MX': 'Comparte tu número de pedido; lo verificamos y actualizamos.', 'es-CO': 'Comparte número de pedido; lo verificamos y actualizamos.', 'es-CL': 'Comparte número de pedido; lo verificamos y actualizamos.', 'en-SG': 'Share your order number; we’ll verify and update.' },
    account: { 'en': 'Use Sign In or Register at the top. “Forgot password” is available.', 'tl': 'Gamitin ang Sign In o Register sa itaas. May “Forgot password”.', 'zh-CN': '请使用顶部的登录或注册。可通过“忘记密码”重置。', 'zh-TW': '請使用上方「登入/註冊」。可透過「忘記密碼」重設。', 'ko': '상단의 로그인/회원가입을 이용하세요. 비밀번호 재설정도 가능합니다.', 'id': 'Gunakan tautan Masuk/Daftar di header. Ada fitur “Lupa sandi”.', 'ms': 'Guna pautan Log Masuk/Daftar di atas. Ada fungsi “Terlupa kata laluan”.', 'th': 'ใช้ปุ่มเข้าสู่ระบบ/สมัครสมาชิกด้านบน มี “ลืมรหัสผ่าน” ให้รีเซ็ตได้', 'vi': 'Dùng liên kết Đăng nhập/Đăng ký ở đầu trang. Có “Quên mật khẩu”.', 'pt-BR': 'Use Entrar/Cadastrar no topo. “Esqueci minha senha” está disponível.', 'es-MX': 'Usa Iniciar sesión o Registrarse en el encabezado. Hay “Olvidé mi contraseña”。', 'es-CO': 'Usa Iniciar sesión o Registrarse en el encabezado. Hay “Olvidé mi contraseña”。', 'es-CL': 'Usa Iniciar sesión o Registrarse en el encabezado. Hay “Olvidé mi contraseña”。', 'en-SG': 'Use Sign In or Register at the top. “Forgot password” is available.' },
    contact: { 'en': 'Reach us via the Contact page or the phone/email listed there.', 'tl': 'Maaaring kontakin kami sa Contact page o sa phone/email na nakalagay doon.', 'zh-CN': '请通过“联系我们”页面或页面上的电话/邮箱联系。', 'zh-TW': '可透過「聯絡我們」頁面或頁上的電話/Email 聯繫。', 'ko': '문의는 연락처 페이지에 안내된 전화/이메일로 부탁드립니다.', 'id': 'Hubungi kami lewat halaman Kontak atau nomor/email di sana.', 'ms': 'Hubungi kami melalui halaman Contact atau telefon/emel di sana.', 'th': 'ติดต่อเราได้ทางหน้า Contact หรือโทร/อีเมลที่ระบุ', 'vi': 'Liên hệ qua trang Liên hệ hoặc số/email trên trang.', 'pt-BR': 'Fale conosco pela página de Contato ou pelos dados lá informados.', 'es-MX': 'Contáctanos desde la página de Contacto o al teléfono/correo indicado.', 'es-CO': 'Contáctanos desde la página de Contacto o al teléfono/correo indicado.', 'es-CL': 'Contáctanos desde la página de Contacto o al teléfono/correo indicado.', 'en-SG': 'Reach us via the Contact page or the phone/email listed there.' },
    hours: { 'en': 'Business hours and address are on the Contact page. Message us to schedule.', 'tl': 'Business hours at address ay nasa Contact page. Message kami para magpa-schedule.', 'zh-CN': '营业时间与地址见“联系我们”页面。需要来访请先留言预约。', 'zh-TW': '營業時間與地址在「聯絡我們」。需來訪請先訊息預約。', 'ko': '영업시간과 주소는 연락처 페이지에 있습니다. 방문 예약은 메시지 주세요.', 'id': 'Jam kerja dan alamat ada di halaman Kontak. Ingin berkunjung? Kirim pesan ya.', 'ms': 'Waktu operasi dan alamat ada di halaman Contact. Mahu datang? Hantar mesej dahulu.', 'th': 'เวลาเปิดทำการและที่อยู่ระบุในหน้า Contact หากต้องการเข้าพบ กรุณานัดล่วงหน้า', 'vi': 'Giờ làm việc và địa chỉ ở trang Liên hệ. Muốn ghé thăm? Nhắn trước nhé.', 'pt-BR': 'Horário e endereço na página Contato. Quer visitar? Envie mensagem.', 'es-MX': 'Horario y dirección en Contacto. ¿Visita? Escríbenos para agendar.', 'es-CO': 'Horario y dirección en Contacto. ¿Visita? Escríbenos para agendar.', 'es-CL': 'Horario y dirección en Contacto. ¿Visita? Escríbenos para agendar.', 'en-SG': 'Business hours and address are on the Contact page. Message us to schedule.' },
    photo: { 'en': 'Product images are on each product page. If something is missing, tell me which product.', 'tl': 'Makikita ang mga larawan sa pahina ng produkto. Kung may kulang, sabihin ang produkto.', 'zh-CN': '商品图片见商品页。如有缺失，请告知具体产品。', 'zh-TW': '商品圖片在商品頁面。若有缺漏，請告知商品。', 'ko': '상품 이미지는 상품 페이지에 있습니다. 부족하면 어떤 상품인지 알려주세요.', 'id': 'Foto produk ada di halaman produk. Jika kurang, beri tahu produknya.', 'ms': 'Gambar produk ada di halaman produk. Jika kurang, beritahu produk mana.', 'th': 'รูปสินค้ามีในหน้าสินค้า หากขาดตก โปรดระบุสินค้า', 'vi': 'Hình ảnh ở trang sản phẩm. Nếu thiếu, cho biết sản phẩm nào.', 'pt-BR': 'As fotos estão na página do produto。 Se faltar algo, diga qual produto.', 'es-MX': 'Las imágenes están en cada producto. Si falta algo, dime cuál.', 'es-CO': 'Las imágenes están en cada producto. Si falta algo, dime cuál.', 'es-CL': 'Las imágenes están en cada producto. Si falta algo, dime cuál.', 'en-SG': 'Product images are on each product page. If something is missing, tell me which product.' },
    privacy: { 'en': 'We handle data per our privacy policy, only what’s required.', 'tl': 'Pinapangalagaan namin ang data ayon sa privacy policy at tanging kailangan lang para sa order.', 'zh-CN': '我们依照隐私政策处理个人数据，仅使用下单所需信息。', 'zh-TW': '我們依隱私政策處理個資，僅使用下單所需資訊。', 'ko': '개인정보는 정책에 따라 최소한으로 사용합니다.', 'id': 'Data pribadi dikelola sesuai kebijakan privasi dan hanya yang diperlukan.', 'ms': 'Data peribadi diurus ikut polisi privasi, hanya yang diperlukan.', 'th': 'เราดูแลข้อมูลตามนโยบายความเป็นส่วนตัว ใช้เท่าที่จำเป็นสำหรับคำสั่งซื้อ', 'vi': 'Chúng tôi xử lý dữ liệu theo chính sách riêng tư, chỉ dùng khi cần thiết.', 'pt-BR': 'Tratamos seus dados conforme a política de privacidade, apenas o necessário.', 'es-MX': 'Tratamos los datos según la política de privacidad, solo lo necesario.', 'es-CO': 'Tratamos los datos según la política de privacidad, solo lo necesario.', 'es-CL': 'Tratamos los datos según la política de privacidad, solo lo necesario.', 'en-SG': 'We handle data per our privacy policy, only what’s required.' },
    manager: { 'en': 'Share a short summary and I’ll connect you to the right person.', 'tl': 'Magbigay ng maikling detalye at iko-connect kita sa tamang tao.', 'zh-CN': '请简要说明您的问题，我会为您转接相关人员。', 'zh-TW': '請簡述您的需求，我會為你轉接相關窗口。', 'ko': '간단히 상황을 알려주시면 담당자와 연결해 드릴게요.', 'id': 'Ceritakan singkatnya, saya hubungkan ke orang yang tepat.', 'ms': 'Ringkaskan isu anda, saya sambungkan kepada pihak yang betul.', 'th': 'สรุปสั้น ๆ เดี๋ยวฉันจะเชื่อมต่อให้กับผู้รับผิดชอบ', 'vi': 'Mô tả ngắn gọn, tôi sẽ kết nối bạn với người phụ trách.', 'pt-BR': 'Resuma seu caso e conecto você à pessoa certa.', 'es-MX': 'Cuéntame brevemente y te conecto con la persona indicada.', 'es-CO': 'Cuéntame brevemente y te conecto con la persona indicada.', 'es-CL': 'Cuéntame brevemente y te conecto con la persona indicada.', 'en-SG': 'Share a short summary and I’ll connect you to the right person.' },
    fallback: { 'en': 'Please send the product name, quantity, and delivery location so I can reply with price, availability, and delivery options.', 'tl': 'Pakibigay ang pangalan ng produkto, dami, at lokasyon para maibigay ko ang presyo, availability, at delivery options.', 'zh-CN': '请提供产品名称、数量和收货地址，以便回复价格、库存与配送方案。', 'zh-TW': '請提供商品名稱、數量與收件地址，以便回覆價格、庫存與配送方案。', 'ko': '제품명, 수량, 배송지를 알려주시면 가격과 재고, 배송 옵션을 안내드릴게요.', 'id': 'Mohon kirim nama produk, jumlah, dan alamat pengiriman agar saya bisa beri harga, stok, dan opsi kirim.', 'ms': 'Sila beri nama produk, kuantiti, dan alamat penghantaran untuk harga, stok, dan pilihan penghantaran.', 'th': 'โปรดส่งชื่อสินค้า จำนวน และที่อยู่จัดส่ง เพื่อที่ฉันจะให้ราคา สต็อก และตัวเลือกจัดส่ง', 'vi': 'Vui lòng gửi tên sản phẩm, số lượng và địa chỉ giao để mình báo giá, tồn kho và phương án giao.', 'pt-BR': 'Envie o produto, quantidade e endereço para eu informar preço, estoque e opções de entrega.', 'es-MX': 'Envíame producto, cantidad y dirección para responder với precio, stock y envío.', 'es-CO': 'Envíame producto, cantidad y dirección para responder con precio, stock y envío.', 'es-CL': 'Envíame producto, cantidad y dirección para responder con precio, stock y envío.', 'en-SG': 'Send the product, quantity, and delivery address so I can share price, stock, and delivery options.' }
  };

  function tKey(key){ var lang=state.manualLang||state.lang||'en'; return (L[key]&&(L[key][lang]||L[key]['en']))||''; }
  function replyFor(text){ var intent=intentFor(text); var lang=state.manualLang||state.lang||'en'; var bucket=REPLIES[intent]||{}; return bucket[lang]||bucket['en']||''; }
  function setStatus(textKey){ if(!els.status) return; var txt=textKey? tKey(textKey):'Online'; els.status.textContent=txt||'Online'; }
  function showIndicator(kind){ var msg=document.createElement('div'); msg.className='msg bot indicator '+kind; var avatar=document.createElement('div'); avatar.className='avatar-wrap'; var img=document.createElement('img'); img.src=url('/assets/images/logo.png'); img.alt='Bot'; img.className='avatar'; avatar.appendChild(img); var bubble=document.createElement('div'); bubble.className='bubble'; if(kind==='typing'){ bubble.innerHTML='<span class="typing-dots"><span></span><span></span><span></span></span>'; } else { bubble.textContent=tKey('reading'); } msg.appendChild(avatar); msg.appendChild(bubble); msg.dataset.kind=kind; els.msgs.appendChild(msg); els.msgs.scrollTop=els.msgs.scrollHeight; return msg; }
  function removeIndicators(){ var elsList=els.msgs? els.msgs.querySelectorAll('.msg.indicator'):[]; elsList.forEach(function(n){ if(n&&n.parentNode) n.parentNode.removeChild(n); }); }
  function detectLangFromText(text){ if(!text) return state.lang||'en'; if(/[\u4E00-\u9FFF]/.test(text)){ if(/台灣|臺灣|繁體|台北|臺北/.test(text)) return 'zh-TW'; return 'zh-CN'; } if(/[\uAC00-\uD7AF]/.test(text)) return 'ko'; if(/[\u0E00-\u0E7F]/.test(text)) return 'th'; if(/[ĂÂÊÔƠƯăâêôơưĐđàáạảãằắặẳẵầấậẩẫèéẹẻẽềếệểễìíịỉĩòóọỏõồốộổỗờớợởỡùúụủũừứựửữỳỵỷỹ]/i.test(text)) return 'vi'; if(/precio|env[ií]o|comprar|pedido|factura|hola|gracias|méxico|colombia|chile/i.test(text)){ if(/méxico/i.test(text)) return 'es-MX'; if(/colombia/i.test(text)) return 'es-CO'; if(/chile/i.test(text)) return 'es-CL'; return 'es-MX'; } if(/preço|preco|envio|prazo|nota fiscal|ol[áa]/i.test(text)) return 'pt-BR'; if(/magkano|paano|order|bayad|padala|po|kayo|salamat|philippines|pilipinas/i.test(text)) return 'tl'; if(/(harga|pengiriman|pemesanan|garansi|stok|alamat|berapa)/i.test(text)) return 'id'; if(/(harga|penghantaran|tempahan|waranti|stok|alamat|berapa)/i.test(text)) return 'ms'; if(/singapore|sg/i.test(text)) return 'en-SG'; if(/taiwan|taipei|kaohsiung/i.test(text)) return 'zh-TW'; return 'en'; }
  function setLang(lang, manual){ if(!lang) lang='en'; lang=lang.toLowerCase(); if(lang.startsWith('zh-')) lang=(lang.indexOf('tw')>-1||lang.indexOf('hk')>-1)?'zh-tw':'zh-cn'; if(lang.startsWith('en')&&lang.indexOf('sg')>-1) lang='en-sg'; var allowed=['en','en-sg','tl','zh-cn','zh-tw','ko','id','ms','th','vi','pt-br','es-mx','es-co','es-cl']; if(allowed.indexOf(lang)===-1) lang='en'; var finalLang=lang.replace('zh-cn','zh-CN').replace('zh-tw','zh-TW').replace('pt-br','pt-BR').replace('en-sg','en-SG').replace('es-mx','es-MX').replace('es-co','es-CO').replace('es-cl','es-CL'); state.lang=finalLang; if(manual){ state.manualLang=finalLang; try{ localStorage.setItem('oa_lang', finalLang);}catch(e){} } if(els.root){ els.root.classList.remove('lang-en','lang-en-SG','lang-tl','lang-zh-CN','lang-zh-TW','lang-ko','lang-id','lang-ms','lang-th','lang-vi','lang-pt-BR','lang-es-MX','lang-es-CO','lang-es-CL'); els.root.classList.add('lang-'+finalLang);} if(els.input){ var ph={'en':'Type your message…','en-SG':'Type your message…','tl':'Mag-type ng mensahe…','zh-CN':'輸入訊息…','zh-TW':'輸入訊息…','ko':'메시지를 입력하세요…','id':'Ketik pesan…','ms':'Taip mesej…','th':'พิมพ์ข้อความ…','vi':'Nhập tin nhắn…','pt-BR':'Digite sua mensagem…','es-MX':'Escribe tu mensaje…','es-CO':'Escribe tu mensaje…','es-CL':'Escribe tu mensaje…'}; els.input.placeholder=ph[finalLang]||ph['en']; } }
  function greet(){ appendMessage(tKey('greeting'), 'bot'); }
  function onSend(){ var text=(els.input.value||'').trim(); if(!text) return; appendMessage(text, 'user'); els.input.value=''; if(!state.manualLang) setLang(detectLangFromText(text)); setStatus('reading'); showIndicator('reading'); setTimeout(function(){ removeIndicators(); setStatus('typing'); showIndicator('typing'); setTimeout(function(){ removeIndicators(); setStatus(); var answer=replyFor(text); var intent=intentFor(text); appendMessage(answer||tKey('greeting'), 'bot'); if(intent==='order_status'){ try{ fetchPendingOrdersCount(); }catch(e){} } },1100); },650); }
  function mount(){ ensureUI(); }
  window.OrderAssistant={ init:function(opts){ mount(); if(opts&&opts.productName){ window.ORDER_ASSISTANT_PRODUCT=opts.productName; } try{ window.OrderAssistant.open(); }catch(e){} }, open:function(opts){ mount(); if(opts&&opts.productName){ window.ORDER_ASSISTANT_PRODUCT=opts.productName; } els.win.style.display='block'; if(els.toggle) els.toggle.style.display='none'; greet(); els.input.focus(); } };
  function toggleLangMenu(show){ if(!els.langMenu) return; els.langMenu.style.display= show? 'block':'none'; }
  try{
    if(!window.__OA_boundToggle){
      window.__OA_boundToggle=true;
      document.addEventListener('click', function(e){
        var t=e.target; if(!t) return;
        var isToggle=(t.id==='order-assistant-toggle')||(t.closest&&t.closest('#order-assistant-toggle'));
        var isChatIcon=(t.classList&&t.classList.contains('chat-icon'))||(t.closest&&t.closest('.chat-icon'));
        if(isToggle||isChatIcon){
          try{ window.OrderAssistant.open(); }
          catch(err){ try{ mount(); window.OrderAssistant.open(); }catch(_e){} }
        }
      });
    }
  }catch(_err){}
  function fetchPendingOrdersCount(){ try{ fetch(url('/orders.php?count=pending'), { credentials: 'same-origin' }).then(function(r){ return r.text(); }).then(function(txt){ var json=null; try{ json=JSON.parse(txt);}catch(e){} var n=null; if(json&&typeof json==='object'){ var keys=['pending','count','pending_count','orders','value']; for(var i=0;i<keys.length;i++){ var k=keys[i]; if(typeof json[k]==='number'){ n=json[k]; break; } } if(n===null){ Object.keys(json).some(function(k){ if(typeof json[k]==='number'){ n=json[k]; return true;} return false; }); } } if(n===null) return; var lang=state.manualLang||state.lang||'en'; var M={'en':'Pending orders (site): '+n,'en-SG':'Pending orders (site): '+n,'tl':'Nakabinbing order (site): '+n,'zh-CN':'站点待处理订单：'+n,'zh-TW':'站台待處理訂單：'+n,'ko':'사이트 대기 중 주문: '+n,'id':'Pesanan tertunda (situs): '+n,'ms':'Tempahan tertunda (laman): '+n,'th':'ออเดอร์ที่รอดำเนินการ (ไซต์): '+n,'vi':'Đơn đang chờ xử lý (site): '+n,'pt-BR':'Pedidos pendentes (site): '+n,'es-MX':'Pedidos pendientes (sitio): '+n,'es-CO':'Pedidos pendientes (sitio): '+n,'es-CL':'Pedidos pendientes (sitio): '+n}; appendMessage(M[lang]||M['en'], 'bot'); }).catch(function(_e){ }); }catch(_err){} }
})();

